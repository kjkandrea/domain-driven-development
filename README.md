# 도메인 주도 개발 공부

레퍼런스

* 도메인 주도 설계 철저입문 (나루세 마사노부)

## 엔티티

속성이 아닌 동일성으로 식별되는 객체.
속성을 통해 식별되는 객체는 '값 객체' 이다.

* 가변이다.
* 속성이 같아도 구분할 수 있다.
* 동일성을 통해 구별된다.

> 시스템 사용자는 최조 사용자 등록 시에 자신의 개인정보를 사용자 정보로 등록한다. 사용자 정보는 대부분의 경우 임의로 수정할 수 있다. 그러나 사용자 정보로 등록된 데이터가 수정됐다고 해서 
> 해당 사용자가 다른 사용자가 되는 일은 없다. 사용자는 이름이 변경됐다 하더라도 사용자 정보가 수정된 것 뿐이지 사용자 자체가 수정된 것이 아니다.
> 이렇듯 사용자는 속성이 아닌 동일성(Identity) 으로 식별된다.

엔티티와 값 객체는 성질이 달라도 두가지 모두 도메인을 나타내는 **도메인 객체**다.

### 도메인 객체

도메인 객체의 행동이나 규칙을 코드로 작성했을 때의 두 번째 장점은 도메인에 일어난 변경을 코드에 반영하기 쉽다는 점이다.

예를 들어 도메인 규칙에 변경이 일어난 상황을 생각해보자. 사용자 이름 규칙이 최소 3글자에서 6글자로 바뀌었다고 생각해보자.\
이러한 규칙 변화는 코드에도 반영되어야 한다. User 클래스가 단순한 데이터 구조체 형태라면 변화한 규칙을 코드로 반영하는 과정이 매우 어려울 것이다.\
수정이 필요한 부분이 프로그램 이곳저곳에 흩어져 있을 것이기 때문이다.

## 도메인 서비스

도메인 서비스는 값 객체와 엔티티와는 다르다.

```typescript
const userService = new UserService()
const user = new User('jk')

// 도메인 서비스에 요청하기
const isDuplicate: boolean = userService.Exists(user)
```

### 도메인 서비스가 하는 일 예시

* 엔티티의 중복 확인
